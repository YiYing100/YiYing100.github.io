<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.0.3/css/swiper.css"
    />
    <style>
      body {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        background-color: #d7dbe2;
      }

      .slideshow {
        display: flex;
        height: 100vh;
        width: 80vw;
        max-width: 1240px;
        min-height: 400px;
        max-height: 700px;
        background-color: #fff;
        padding: 20px;
      }
      .slideshow__gallery {
        height: 100%;
        width: calc(80% - 20px);
        margin-right: 20px;
      }


    </style>
  </head>
  <body>
    <div class="slideshow">
      <div class="slideshow__gallery swiper-container">
        <div class=" swiper-wrapper">
          <div
            class="slideshow__gallery-slide swiper-slide"
            style="background-color: #4298ce;"
          >
            Slide 1
          </div>
          <div
            class="slideshow__gallery-slide swiper-slide"
            style="background-color: #bd56ac;"
          >
            Slide 2
          </div>
          <div
            class="slideshow__gallery-slide swiper-slide"
            style="background-color: #b0cc66;"
          >
            Slide 3
          </div>
          <div
            class="slideshow__gallery-slide swiper-slide"
            style="background-color: lightcoral;"
          >
            Slide 4
          </div>
          <div
            class="slideshow__gallery-slide swiper-slide"
            style="background-color: #5fbf7c;"
          >
            Slide 5
          </div>
        </div>
      </div>

      <div class="slideshow__thumbs swiper-container">
        <div class="swiper-wrapper">
          <div
            class="swiper-slide"
            style="background-color: #4298ce;"
          >
            Slide 1
          </div>
          <div
            class="swiper-slide"
            style="background-color: #bd56ac;"
          >
            Slide 2
          </div>
          <div
            class="swiper-slide"
            style="background-color: #b0cc66;"
          >
            Slide 3
          </div>
          <div
            class="swiper-slide"
            style="background-color: lightcoral;"
          >
            Slide 4
          </div>
          <div
            class="swiper-slide"
            style="background-color: #5fbf7c;"
          >
            Slide 5
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.0.3/js/swiper.min.js"></script>
    <script>
      const $gallery = $(".slideshow__gallery");
      const $thumbs = $(".slideshow__thumbs");
      let targetIndex;
      let swiperGallery = new Swiper($gallery, {
        direction: "vertical",
        loop: true,
        speed: 700,
        simulateTouch: false,
        spaceBetween: 10,
      });

      let swiperThumbs = new Swiper($thumbs, {
        direction: "vertical",
        loop: true,
        slidesPerView: 3,
        centeredSlides: true,
        spaceBetween: 20,
        autoplay: {
        delay: 1000},
      });

      swiperThumbs.on("slideChangeTransitionStart", function () {
        targetIndex = Number(swiperThumbs.realIndex);
        swiperThumbs.detachEvents();
        swiperGallery.slideTo(targetIndex + 1, 700, true);
      })


      swiperGallery.on("slideChangeTransitionEnd", function () {
        swiperThumbs.attachEvents();
      });

    </script>
  </body>
</html>
